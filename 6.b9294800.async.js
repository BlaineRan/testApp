"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[334],{5966:function(re,W,a){var G=a(87462),w=a(44925),U=a(67294),p=a(28418),K=["fieldProps","proFieldProps"],s=["fieldProps","proFieldProps"],P="text",Y=function(b){var c=b.fieldProps,B=b.proFieldProps,y=(0,w.Z)(b,K);return U.createElement(p.Z,(0,G.Z)({mode:"edit",valueType:P,fieldProps:c,filedConfig:{valueType:P},proFieldProps:B},y))},O=function(b){var c=b.fieldProps,B=b.proFieldProps,y=(0,w.Z)(b,s);return U.createElement(p.Z,(0,G.Z)({mode:"edit",valueType:"password",fieldProps:c,proFieldProps:B,filedConfig:{valueType:P}},y))},S=Y;S.Password=O,S.displayName="ProFormComponent",W.Z=S},19060:function(re,W,a){a.r(W),a.d(W,{default:function(){return me}});var G=a(45176),w=a.n(G),U=a(31734),p=a.n(U),K=a(32914),s=a.n(K),P=a(94601),Y=a(49101),O=a(87462),S=a(1413),V=a(44925),b=a(22270),c=a(67294),B=a(66758),y=a(28418),ae=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],te=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],le=c.forwardRef(function(u,h){var d=u.fieldProps,v=u.children,x=u.params,t=u.proFieldProps,T=u.mode,D=u.valueEnum,Z=u.request,R=u.showSearch,I=u.options,$=(0,V.Z)(u,ae),L=(0,c.useContext)(B.Z);return c.createElement(y.Z,(0,O.Z)({mode:"edit",valueEnum:(0,b.h)(D),request:Z,params:x,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,S.Z)({options:I,mode:T,showSearch:R,getPopupContainer:L.getPopupContainer},d),ref:h,proFieldProps:t},$),v)}),se=c.forwardRef(function(u,h){var d=u.fieldProps,v=u.children,x=u.params,t=u.proFieldProps,T=u.mode,D=u.valueEnum,Z=u.request,R=u.options,I=(0,V.Z)(u,te),$=(0,S.Z)({options:R,mode:T||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},d),L=(0,c.useContext)(B.Z);return c.createElement(y.Z,(0,O.Z)({mode:"edit",valueEnum:(0,b.h)(D),request:Z,params:x,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,S.Z)({getPopupContainer:L.getPopupContainer},$),ref:h,proFieldProps:t},I),v)}),ue=le,ne=se,z=ue;z.SearchSelect=ne,z.displayName="ProFormComponent";var j=z,Q=a(96250),ie=a(42813),X=a(9436),C=a(47232),M=a(5966),oe=a(13510),F=a(59841),A=a(48086),de=a(75443),H=a(71577),ce=a(25084),r=a(85893),pe=function(){var u=p()(s().mark(function h(d){var v;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return v=A.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),t.prev=1,d.bciLevel=1,d.bsiLevel=1,d.puciLevel=1,t.next=7,(0,P.SA)(d);case 7:return v(),A.ZP.success("\u6DFB\u52A0\u6210\u529F\uFF01"),t.abrupt("return",!0);case 12:return t.prev=12,t.t0=t.catch(1),v(),A.ZP.error("\u6DFB\u52A0\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),t.abrupt("return",!1);case 17:case"end":return t.stop()}},h,null,[[1,12]])}));return function(d){return u.apply(this,arguments)}}(),xe=null,ve=function(){var u=p()(s().mark(function h(d){var v;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(v=A.ZP.loading("\u6B63\u5728\u5220\u9664"),d){t.next=3;break}return t.abrupt("return",!0);case 3:return t.prev=3,t.next=6,(0,P.rM)({bridgeId:d.map(function(T){return T.bridgeId})});case 6:return v(),A.ZP.success("\u5220\u9664\u6210\u529F\uFF01\u5373\u5C06\u5237\u65B0\u5217\u8868"),t.abrupt("return",!0);case 11:return t.prev=11,t.t0=t.catch(3),v(),A.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),t.abrupt("return",!1);case 16:case"end":return t.stop()}},h,null,[[3,11]])}));return function(d){return u.apply(this,arguments)}}(),he=function(){var h=(0,c.useState)(!1),d=w()(h,2),v=d[0],x=d[1],t=(0,c.useState)(!1),T=w()(t,2),D=T[0],Z=T[1],R=(0,c.useState)(!1),I=w()(R,2),$=I[0],L=I[1],E=(0,c.useRef)(),fe=(0,c.useState)(),k=w()(fe,2),i=k[0],J=k[1],ge=(0,c.useState)([]),q=w()(ge,2),N=q[0],_=q[1],be=(0,F.useIntl)(),ee=[{title:"\u6865\u6881\u7F16\u53F7",dataIndex:"bridgeId",tip:"\u6865\u6881\u7F16\u53F7\u552F\u4E00",render:function(l,e){return(0,r.jsx)("a",{onClick:function(){J(e),L(!0)},children:l})}},{title:"\u6865\u6881\u540D\u79F0",dataIndex:"bridgeName",valueType:"textarea"},{title:"\u6865\u6881\u7C7B\u578B",dataIndex:"bridgeType",valueEnum:{1:{text:"\u6881\u6C0F\u6865"},2:{text:"\u6841\u67B6\u6865"},3:{text:"\u62F1\u6865"},4:{text:"\u521A\u6784\u6865"},5:{text:"\u60AC\u81C2\u6881\u6865"},6:{text:"\u4EBA\u884C\u5929\u6865"}}},{title:"\u8D1F\u8D23\u4EBA",dataIndex:"chargeName",valueType:"textarea"},{title:"BCI\u7B49\u7EA7",dataIndex:"bciLevel",hideInForm:!0,valueEnum:{1:{text:"\u4F18\u79C0",color:"#1890ff"},2:{text:"\u826F\u597D",color:"#52c41a"},3:{text:"\u4E00\u822C",color:"#fadb14"},4:{text:"\u5F02\u5E38",color:"#874d00"},5:{text:"\u5371\u9669",color:"#ff4d4f"}}},{title:"BSI\u7B49\u7EA7",dataIndex:"bsiLevel",hideInForm:!0,valueEnum:{1:{text:"\u4F18\u79C0",color:"#1890ff"},2:{text:"\u826F\u597D",color:"#52c41a"},3:{text:"\u4E00\u822C",color:"#fadb14"},4:{text:"\u5F02\u5E38",color:"#874d00"},5:{text:"\u5371\u9669",color:"#ff4d4f"}}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(l,e){return[(0,r.jsx)("a",{onClick:function(){J(e),console.log(i),Z(!0)},children:"\u4FEE\u6539"},"config"),(0,r.jsx)(de.Z,{title:"\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E2A\u6865\u6881\u5417\uFF1F",onConfirm:function(){(0,P.rM)({bridgeId:[e.bridgeId]}),A.ZP.success("\u5220\u9664\u6210\u529F"),E.current&&E.current.reload()},onCancel:function(){},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,r.jsx)("a",{href:"#",children:"\u5220\u9664"},"deleteBridge")})]}}];return(0,r.jsxs)(Q._z,{children:[(0,r.jsx)(ie.Z,{headerTitle:be.formatMessage({id:"pages.bridgeTable.title",defaultMessage:"Bridge List"}),actionRef:E,rowKey:"bridgeId",search:{labelWidth:120},toolBarRender:function(){return[(0,r.jsxs)(H.Z,{type:"primary",onClick:function(){x(!0)},children:[(0,r.jsx)(Y.Z,{})," ",(0,r.jsx)(F.FormattedMessage,{id:"pages.searchTable.new",defaultMessage:"New"})]},"primary")]},request:P.ce,columns:ee,rowSelection:{onChange:function(l,e){_(e)}}}),N?.length>0&&(0,r.jsxs)(Q.Sc,{extra:(0,r.jsxs)("div",{children:[(0,r.jsx)(F.FormattedMessage,{id:"pages.searchTable.chosen",defaultMessage:"Chosen"})," ",(0,r.jsx)("a",{style:{fontWeight:600},children:N.length})," ",(0,r.jsx)(F.FormattedMessage,{id:"pages.searchTable.item",defaultMessage:"\u9879"}),"\xA0\xA0"]}),children:[(0,r.jsx)(H.Z,{onClick:p()(s().mark(function n(){var l,e;return s().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,ve(N);case 2:_([]),(l=E.current)===null||l===void 0||(e=l.reloadAndRest)===null||e===void 0||e.call(l);case 4:case"end":return g.stop()}},n)})),children:(0,r.jsx)(F.FormattedMessage,{id:"pages.searchTable.batchDeletion",defaultMessage:"Batch deletion"})}),(0,r.jsx)(H.Z,{type:"primary",children:(0,r.jsx)(F.FormattedMessage,{id:"pages.searchTable.batchApproval",defaultMessage:"Batch approval"})})]}),(0,r.jsxs)(X.Y,{title:"\u65B0\u5EFA\u6865\u6881",visible:v,width:"600px",onVisibleChange:x,onFinish:function(){var n=p()(s().mark(function l(e){var o;return s().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,pe(e);case 2:o=m.sent,o&&(x(!1),E.current&&E.current.reload());case 4:case"end":return m.stop()}},l)}));return function(l){return n.apply(this,arguments)}}(),children:[(0,r.jsx)(C.A.Group,{children:(0,r.jsx)(M.Z,{rules:[{required:!0,message:(0,r.jsx)(F.FormattedMessage,{id:"pages.searchTable.ruleName",defaultMessage:"Rule name is required"})}],width:"xl",name:"bridgeName",label:"\u6865\u6881\u540D\u79F0"})}),(0,r.jsxs)(C.A.Group,{children:[(0,r.jsx)(M.Z,{width:"sm",name:"bridgeLength",label:"\u6865\u6881\u957F\u5EA6"}),(0,r.jsx)(M.Z,{width:"sm",name:"bridgeWidth",label:"\u6865\u6881\u5BBD\u5EA6"})]}),(0,r.jsxs)(C.A.Group,{children:[(0,r.jsx)(j,{request:p()(s().mark(function n(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{value:"1",label:"\u6881\u6C0F\u6865"},{value:"2",label:"\u6841\u67B6\u6865"},{value:"3",label:"\u62F1\u6865"},{value:"4",label:"\u521A\u6784\u6865"},{value:"5",label:"\u60AC\u81C2\u6881\u6865"},{value:"6",label:"\u4EBA\u884C\u5929\u6865"}]);case 1:case"end":return e.stop()}},n)})),width:"sm",name:"bridgeTypeId",label:"\u6865\u6881\u7C7B\u578B"}),(0,r.jsx)(j,{request:p()(s().mark(function n(){var l,e,o,g;return s().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,F.request)("http://localhost:8080/user/getUserList.api",{method:"GET"});case 2:for(l=f.sent,e=[],o=0;o<l.length;o++)g={value:l[o].userId,label:l[o].userName},e.push(g);return f.abrupt("return",e);case 6:case"end":return f.stop()}},n)})),width:"sm",name:"chargeId",label:"\u8D1F\u8D23\u4EBA"})]}),(0,r.jsxs)(C.A.Group,{children:[(0,r.jsx)(j,{request:p()(s().mark(function n(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{value:"1",label:"\u2160"},{value:"2",label:"\u2161"},{value:"3",label:"\u2162"},{value:"4",label:"\u2163"},{value:"5",label:"\u2164"}]);case 1:case"end":return e.stop()}},n)})),width:"sm",name:"maintainType",label:"\u517B\u62A4\u7C7B\u522B"}),(0,r.jsx)(j,{width:"sm",options:[{value:"1",label:"\u2160"},{value:"2",label:"\u2161"},{value:"3",label:"\u2162"}],name:"maintainLevel",label:"\u517B\u62A4\u7B49\u7EA7"})]})]}),(0,r.jsxs)(X.Y,{title:"\u66F4\u65B0\u6865\u6881",visible:D,width:"600px",onVisibleChange:Z,onFinish:function(){var n=p()(s().mark(function l(e){var o;return s().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return e.bridgeId=i?.bridgeId,m.next=3,(0,P.bk)(e);case 3:o=m.sent,o&&(Z(!1),E.current&&E.current.reload());case 5:case"end":return m.stop()}},l)}));return function(l){return n.apply(this,arguments)}}(),initialValues:{bridgeName:i?.bridgeName,bridgeLength:i?.bridgeLength,bridgeWidth:i?.bridgeWidth},children:[(0,r.jsx)(C.A.Group,{children:(0,r.jsx)(M.Z,{rules:[{required:!0,message:"\u5FC5\u586B\u9879\uFF01"}],width:"xl",name:"bridgeName",label:"\u6865\u6881\u540D\u79F0"})}),(0,r.jsxs)(C.A.Group,{children:[(0,r.jsx)(M.Z,{rules:[{required:!0,message:"\u5FC5\u586B\u9879\uFF01"}],width:"sm",name:"bridgeLength",label:"\u6865\u6881\u957F\u5EA6"}),(0,r.jsx)(M.Z,{rules:[{required:!0,message:"\u5FC5\u586B\u9879\uFF01"}],width:"sm",name:"bridgeWidth",label:"\u6865\u6881\u5BBD\u5EA6"})]}),(0,r.jsxs)(C.A.Group,{children:[(0,r.jsx)(j,{rules:[{required:!0,message:"\u5FC5\u586B\u9879\uFF01"}],request:p()(s().mark(function n(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{value:"1",label:"\u6881\u6C0F\u6865"},{value:"2",label:"\u6841\u67B6\u6865"},{value:"3",label:"\u62F1\u6865"},{value:"4",label:"\u521A\u6784\u6865"},{value:"5",label:"\u60AC\u81C2\u6881\u6865"},{value:"6",label:"\u4EBA\u884C\u5929\u6865"}]);case 1:case"end":return e.stop()}},n)})),width:"sm",name:"bridgeTypeId",label:"\u6865\u6881\u7C7B\u578B"}),(0,r.jsx)(j,{rules:[{required:!0,message:"\u5FC5\u586B\u9879\uFF01"}],request:p()(s().mark(function n(){var l,e,o,g;return s().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,F.request)("http://localhost:8080/user/getUserList.api",{method:"GET"});case 2:for(l=f.sent,e=[],o=0;o<l.length;o++)g={value:l[o].userId,label:l[o].userName},e.push(g);return f.abrupt("return",e);case 6:case"end":return f.stop()}},n)})),width:"sm",name:"chargeId",label:"\u8D1F\u8D23\u4EBA"})]}),(0,r.jsxs)(C.A.Group,{children:[(0,r.jsx)(j,{rules:[{required:!0,message:"\u5FC5\u586B\u9879\uFF01"}],request:p()(s().mark(function n(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{value:"1",label:"\u2160"},{value:"2",label:"\u2161"},{value:"3",label:"\u2162"},{value:"4",label:"\u2163"},{value:"5",label:"\u2164"}]);case 1:case"end":return e.stop()}},n)})),width:"sm",name:"maintainType",label:"\u517B\u62A4\u7C7B\u522B"}),(0,r.jsx)(j,{rules:[{required:!0,message:"\u5FC5\u586B\u9879\uFF01"}],width:"sm",options:[{value:"1",label:"\u2160"},{value:"2",label:"\u2161"},{value:"3",label:"\u2162"}],name:"maintainLevel",label:"\u517B\u62A4\u7B49\u7EA7"})]})]},"updateForm"+Math.random()),(0,r.jsx)(ce.Z,{width:600,visible:$,onClose:function(){J(void 0),L(!1)},closable:!1,children:i?.bridgeName&&(0,r.jsx)(oe.vY,{column:2,title:i?.bridgeName,request:p()(s().mark(function n(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:i||{}});case 1:case"end":return e.stop()}},n)})),params:{id:i?.bridgeName},columns:ee})})]})},me=he}}]);
